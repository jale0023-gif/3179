{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {"text": "Gambling Preferences by Age Group in Australia"},
  "width": 650,
  "height": 400,
  "data": {
    "url": "https://raw.githubusercontent.com/jale0023-gif/3179/refs/heads/main/age_vs_gambling_type.csv"
  },

  "transform": [
    {
      "fold": [
        "Lottery",
        "Instant Scratch Tickets",
        "EGMs",
        "Race Betting",
        "Sports Betting",
        "Keno",
        "Casino Table Games",
        "Bingo",
        "Private Betting",
        "Poker"
      ],
      "as": ["Gambling Type", "Percentage"]
    },
    {
      "filter": "gambling_filter == 'All' || datum['Gambling Type'] == gambling_filter"
    }
  ],

  "params": [
    {
      "name": "gambling_filter",
      "bind": {
        "input": "select",
        "options": [
          "All",
          "Lottery",
          "Instant Scratch Tickets",
          "EGMs",
          "Race Betting",
          "Sports Betting",
          "Keno",
          "Casino Table Games",
          "Bingo",
          "Private Betting",
          "Poker"
        ],
        "labels": [
          "All",
          "Lottery",
          "Instant Scratch Tickets",
          "EGMs",
          "Race Betting",
          "Sports Betting",
          "Keno",
          "Casino Table Games",
          "Bingo",
          "Private Betting",
          "Poker"
        ],
        "name": "Select Gambling Type: "
      },
      "value": "All"
    }
  ],

  "mark": {"type": "bar", "cornerRadiusEnd": 3},

  "encoding": {
    "x": {"field": "Age Group", "type": "nominal", "title": "Age Group"},
    "y": {"field": "Percentage", "type": "quantitative", "title": "Participation (%)"},
    "color": {
      "field": "Gambling Type",
      "type": "nominal",
      "title": "Gambling Type",
      "scale": {
        "domain": [
          "Lottery",
          "Instant Scratch Tickets",
          "EGMs",
          "Race Betting",
          "Sports Betting",
          "Keno",
          "Casino Table Games",
          "Bingo",
          "Private Betting",
          "Poker"
        ],
        "range": [
          "#f89070",
          "#703858",
          "#b8d0d0",
          "#a8b0b8",
          "#f8e0a0",
          "#ffa5a5",
          "#2c2c2c",
          "#838383",
          "#2d3987",
          "#c8f2c2"
        ]
      },
      "legend": {"title": "Gambling Type"}
    },
    "tooltip": [
      {"field": "Age Group"},
      {"field": "Gambling Type"},
      {"field": "Percentage", "format": ".1f"}
    ]
  },

  "config": {
    "view": {"stroke": "transparent"},
    "axis": {"labelFont": "Lato", "titleFont": "Lato"},
    "legend": {"labelFont": "Lato", "titleFont": "Lato"}
  }
}


