{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Gambling Activity vs Risk Group",
    "fontSize": 18,
    "fontWeight": "bold",
    "anchor": "start"
  },
  "width": "container",
  "height": 420,
  "autosize": {"type": "fit", "contains": "padding"},
  "data": {
    "url": "https://raw.githubusercontent.com/jale0023-gif/3179/refs/heads/main/gambling_activity_risk.csv"
  },
  "layer": [
    {
      "mark": {"type": "rect"},
      "encoding": {
        "x": {
          "field": "Activity",
          "type": "nominal",
          "title": "Gambling Activity",
          "axis": {
            "labelAngle": -40,
            "labelFontSize": 11,
            "labelAlign": "right",
            "labelBaseline": "top",
            "titlePadding": 20
          }
        },
        "y": {
          "field": "RiskGroup",
          "type": "nominal",
          "title": "Risk Group",
          "sort": ["Non-problem", "Low-risk", "Moderate-risk", "Problem"],
          "axis": {"labelFontSize": 12}
        },
        "color": {
          "field": "Percentage",
          "type": "quantitative",
          "title": "Mean Expenditure (%)",
          "scale": {"scheme": "redyellowgreen", "domain": [0, 100]}
        },
        "tooltip": [
          {"field": "Activity", "title": "Gambling Activity"},
          {"field": "RiskGroup", "title": "Risk Group"},
          {"field": "Percentage", "title": "Mean Expenditure (%)", "format": ".1f"}
        ]
      }
    },
    {
      "mark": {
        "type": "text",
        "fontSize": 11,
        "fontWeight": "bold",
        "color": "black"
      },
      "encoding": {
        "x": {"field": "Activity", "type": "nominal"},
        "y": {"field": "RiskGroup", "type": "nominal"},
        "text": {"field": "Percentage", "type": "quantitative", "format": ".1f"}
      }
    }
  ],
  "config": {
    "axis": {"labelFontSize": 12, "titleFontSize": 13},
    "legend": {"titleFontSize": 13, "labelFontSize": 11},
    "title": {"fontSize": 20, "anchor": "middle", "fontWeight": "bold"},
    "view": {"stroke": null}
  }
}


